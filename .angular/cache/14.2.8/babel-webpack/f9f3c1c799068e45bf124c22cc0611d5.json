{"ast":null,"code":"import _asyncToGenerator from \"D:/Francis/PROYECTOS/Pry_Condominio/condfrontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { NgZone } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/services/usuario.service\";\nexport class LoginComponent {\n  constructor(_router, fb, _usuarioService, _ngZone) {\n    this._router = _router;\n    this.fb = fb;\n    this._usuarioService = _usuarioService;\n    this._ngZone = _ngZone; // No lo estoy usando pero lo debo usar\n    // @ViewChild('googleBtn') googleBtn!:ElementRef;\n\n    this.formSubmitted = false;\n    this.loginForm = this.fb.group({\n      correo: [localStorage.getItem('correo') || '', [Validators.required, Validators.email]],\n      password: ['', Validators.required],\n      remember: [false]\n    });\n  }\n\n  ngOnInit() {\n    console.log('cargando login');\n    this.renderButton();\n  }\n\n  login() {\n    this._usuarioService.login(this.loginForm.value).subscribe(resp => {\n      // debugger\n      if (this.loginForm.get('remember').value) {\n        localStorage.setItem('correo', this.loginForm.get('correo').value);\n      } else {\n        localStorage.removeItem('correo');\n      }\n\n      console.log('Dentro del login.... fui a la DB'); // Navegar al dashboard\n\n      this._router.navigateByUrl('/');\n    }, err => {\n      // Si sucede un error\n      Swal.fire('Error Francis', err.error.msg, 'error');\n    });\n  }\n\n  renderButton() {\n    gapi.signin2.render('my-signin2', {\n      'scope': 'profile email',\n      'width': 240,\n      'height': 50,\n      'longtitle': true,\n      'theme': 'dark'\n    });\n    this.startApp();\n  }\n\n  // Generando token de Google, para luego generar el token de la aplicacion.\n  startApp() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this._usuarioService.googleIni();\n      _this.auth2 = _this._usuarioService.auth2;\n\n      _this.attachSignin(document.getElementById('my-signin2'));\n    })();\n  }\n\n  attachSignin(element) {\n    // console.log(element.id);\n    this.auth2.attachClickHandler(element, {}, googleUser => {\n      const id_token = googleUser.getAuthResponse().id_token; // console.log(id_token);\n\n      this._usuarioService.loginGoogle(id_token).subscribe(resp => {\n        // Navegar al dashboard\n        this._ngZone.run(() => {\n          this._router.navigateByUrl('/');\n        });\n      });\n    }, error => {\n      alert(JSON.stringify(error, undefined, 2));\n    });\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.UsuarioService), i0.ɵɵdirectiveInject(i0.NgZone));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 50,\n  vars: 1,\n  consts: [[\"id\", \"wrapper\", 1, \"login-register\", \"login-sidebar\", 2, \"background-image\", \"url(../assets/images/background/login-register.jpg)\"], [1, \"login-box\", \"card\"], [1, \"card-body\"], [\"id\", \"loginform\", \"autocomplete\", \"off\", 1, \"form-horizontal\", \"form-material\", 3, \"formGroup\", \"ngSubmit\"], [\"href\", \"javascript:void(0)\", 1, \"text-center\", \"db\"], [\"src\", \"../assets/images/logo-icon.png\", \"alt\", \"Home\"], [\"src\", \"../assets/images/logo-text.png\", \"alt\", \"Home\"], [1, \"form-group\", \"m-t-40\"], [1, \"col-xs-12\"], [\"type\", \"email\", \"formControlName\", \"correo\", \"placeholder\", \"email\", 1, \"form-control\"], [1, \"form-group\"], [\"type\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Password\", 1, \"form-control\"], [1, \"form-group\", \"row\"], [1, \"col-md-12\"], [1, \"checkbox\", \"checkbox-primary\", \"pull-left\", \"p-t-0\"], [\"id\", \"checkbox-signup\", \"type\", \"checkbox\", \"formControlName\", \"remember\", 1, \"filled-in\", \"chk-col-light-blue\"], [\"for\", \"checkbox-signup\"], [\"href\", \"javascript:void(0)\", \"id\", \"to-recover\", 1, \"text-dark\", \"pull-right\"], [1, \"fa\", \"fa-lock\", \"m-r-5\"], [1, \"form-group\", \"text-center\", \"m-t-20\"], [\"type\", \"submit\", 1, \"btn\", \"btn-info\", \"btn-lg\", \"btn-block\", \"text-uppercase\", \"btn-rounded\"], [1, \"row\"], [\"id\", \"google-btn\", 1, \"col-xs-12\", \"col-sm-12\", \"col-md-12\", \"m-t-10\", \"mb-4\", \"text-center\"], [\"id\", \"my-signin2\"], [1, \"form-group\", \"m-b-0\"], [1, \"col-sm-12\", \"text-center\"], [\"routerLink\", \"/auth/registro\", 1, \"text-primary\", \"m-l-5\"], [\"id\", \"recoverform\", \"action\", \"index.html\", 1, \"form-horizontal\"], [1, \"text-muted\"], [\"type\", \"text\", \"required\", \"\", \"placeholder\", \"Email\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-lg\", \"btn-block\", \"text-uppercase\", \"waves-effect\", \"waves-light\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(4, \"a\", 4);\n      i0.ɵɵelement(5, \"img\", 5)(6, \"br\")(7, \"img\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8);\n      i0.ɵɵelement(10, \"input\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 10)(12, \"div\", 8);\n      i0.ɵɵelement(13, \"input\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 12)(15, \"div\", 13)(16, \"div\", 14);\n      i0.ɵɵelement(17, \"input\", 15);\n      i0.ɵɵelementStart(18, \"label\", 16);\n      i0.ɵɵtext(19, \" xxxxx Remember me \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"a\", 17);\n      i0.ɵɵelement(21, \"i\", 18);\n      i0.ɵɵtext(22, \" Forgot pwd? \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(23, \"div\", 19)(24, \"div\", 8)(25, \"button\", 20);\n      i0.ɵɵtext(26, \" Log In \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(27, \"div\", 21)(28, \"div\", 22);\n      i0.ɵɵelement(29, \"div\", 23);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 24)(31, \"div\", 25);\n      i0.ɵɵtext(32, \" Don't have an account? \");\n      i0.ɵɵelementStart(33, \"a\", 26)(34, \"b\");\n      i0.ɵɵtext(35, \"Sign Up\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(36, \"form\", 27)(37, \"div\", 10)(38, \"div\", 8)(39, \"h3\");\n      i0.ɵɵtext(40, \"Recover Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"p\", 28);\n      i0.ɵɵtext(42, \"Enter your Email and instructions will be sent to you! \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(43, \"div\", 10)(44, \"div\", 8);\n      i0.ɵɵelement(45, \"input\", 29);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(46, \"div\", 19)(47, \"div\", 8)(48, \"button\", 30);\n      i0.ɵɵtext(49, \"Reset\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n    }\n  },\n  dependencies: [i1.RouterLinkWithHref, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.CheckboxControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n  styles: [\".login-register[_ngcontent-%COMP%] {\\n    background-size: cover;\\n    background-repeat: no-repeat;\\n    background-position: center center;\\n    height: 100%;\\n    width: 100%;\\n    padding: 10% 0;\\n    position: fixed; }\\n.login-box[_ngcontent-%COMP%] {\\n    width: 400px;\\n    margin: 0 auto; }\\n.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%] {\\n      width: 100%;\\n      left: 0px;\\n      right: 0px; }\\n.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%] {\\n      display: block;\\n      margin-bottom: 30px; }\\n#recoverform[_ngcontent-%COMP%] {\\n    display: none; }\\n.login-sidebar[_ngcontent-%COMP%] {\\n    padding: 0px;\\n    margin-top: 0px; }\\n.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%] {\\n      right: 0px;\\n      position: absolute;\\n      height: 100%; }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBOzs7OztDQUtDO0FBQ0Q7Ozs7O0NBS0M7QUFDRCxlQUFlO0FBQ2Ysa0JBQWtCO0FBQ2xCLGVBQWU7QUFDZixlQUFlO0FBQ2YsaUJBQWlCO0FBQ2pCOztrQkFFa0I7QUFDbEI7SUFDSSxzQkFBc0I7SUFDdEIsNEJBQTRCO0lBQzVCLGtDQUFrQztJQUNsQyxZQUFZO0lBQ1osV0FBVztJQUNYLGNBQWM7SUFDZCxlQUFlLEVBQUU7QUFFbkI7SUFDRSxZQUFZO0lBQ1osY0FBYyxFQUFFO0FBQ2hCO01BQ0UsV0FBVztNQUNYLFNBQVM7TUFDVCxVQUFVLEVBQUU7QUFDZDtNQUNFLGNBQWM7TUFDZCxtQkFBbUIsRUFBRTtBQUV6QjtJQUNFLGFBQWEsRUFBRTtBQUVqQjtJQUNFLFlBQVk7SUFDWixlQUFlLEVBQUU7QUFDakI7TUFDRSxVQUFVO01BQ1Ysa0JBQWtCO01BQ2xCLFlBQVksRUFBRSIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKlxuVGVtcGxhdGUgTmFtZTogQWRtaW4gcHJvIEFkbWluXG5BdXRob3I6IFdyYXBwaXhlbFxuRW1haWw6IG5pcmF2am9zaGk4N0BnbWFpbC5jb21cbkZpbGU6IHNjc3NcbiovXG4vKlxuVGVtcGxhdGUgTmFtZTogQWRtaW4gUHJvIEFkbWluXG5BdXRob3I6IFdyYXBwaXhlbFxuRW1haWw6IG5pcmF2am9zaGk4N0BnbWFpbC5jb21cbkZpbGU6IHNjc3NcbiovXG4vKlRoZW1lIENvbG9ycyovXG4vKmJvb3RzdHJhcCBDb2xvciovXG4vKkxpZ2h0IGNvbG9ycyovXG4vKk5vcm1hbCBDb2xvciovXG4vKkV4dHJhIFZhcmlhYmxlKi9cbi8qKioqKioqKioqKioqKioqKioqXG5Mb2dpbiByZWdpc3RlciBhbmQgcmVjb3ZlciBwYXNzd29yZCBQYWdlXG4qKioqKioqKioqKioqKioqKiovXG4ubG9naW4tcmVnaXN0ZXIge1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAxMCUgMDtcbiAgICBwb3NpdGlvbjogZml4ZWQ7IH1cbiAgXG4gIC5sb2dpbi1ib3gge1xuICAgIHdpZHRoOiA0MDBweDtcbiAgICBtYXJnaW46IDAgYXV0bzsgfVxuICAgIC5sb2dpbi1ib3ggLmZvb3RlciB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGxlZnQ6IDBweDtcbiAgICAgIHJpZ2h0OiAwcHg7IH1cbiAgICAubG9naW4tYm94IC5zb2NpYWwge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBtYXJnaW4tYm90dG9tOiAzMHB4OyB9XG4gIFxuICAjcmVjb3ZlcmZvcm0ge1xuICAgIGRpc3BsYXk6IG5vbmU7IH1cbiAgXG4gIC5sb2dpbi1zaWRlYmFyIHtcbiAgICBwYWRkaW5nOiAwcHg7XG4gICAgbWFyZ2luLXRvcDogMHB4OyB9XG4gICAgLmxvZ2luLXNpZGViYXIgLmxvZ2luLWJveCB7XG4gICAgICByaWdodDogMHB4O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgaGVpZ2h0OiAxMDAlOyB9XG4gICJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["NgZone","Validators","Swal","LoginComponent","constructor","_router","fb","_usuarioService","_ngZone","group","correo","localStorage","getItem","required","email","password","remember","ngOnInit","console","log","renderButton","login","loginForm","value","subscribe","resp","get","setItem","removeItem","navigateByUrl","err","fire","error","msg","gapi","signin2","render","startApp","googleIni","auth2","attachSignin","document","getElementById","element","attachClickHandler","googleUser","id_token","getAuthResponse","loginGoogle","run","alert","JSON","stringify","undefined","i0","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Francis\\PROYECTOS\\Pry_Condominio\\condfrontend\\src\\app\\auth\\login\\login.component.ts","D:\\Francis\\PROYECTOS\\Pry_Condominio\\condfrontend\\src\\app\\auth\\login\\login.component.html"],"sourcesContent":["import { Component, ElementRef, NgZone, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport Swal from 'sweetalert2';\n\nimport { UsuarioService } from 'src/app/services/usuario.service';\n\ndeclare const gapi:any;\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: [ './login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  // No lo estoy usando pero lo debo usar\n  // @ViewChild('googleBtn') googleBtn!:ElementRef;\n  \n  public formSubmitted= false;\n  public auth2: any;\n\n  public loginForm = this.fb.group({\n    correo: [localStorage.getItem('correo') || '', [Validators.required, Validators.email] ],\n    password: ['', Validators.required ],\n    remember:[ false]\n  });\n\n  constructor( private _router:Router,\n               private fb:FormBuilder,\n               private _usuarioService: UsuarioService,\n               private _ngZone:NgZone) { }\n\n  ngOnInit(): void {\n    console.log('cargando login')\n    this.renderButton();\n  }\n \n  login(){\n\n    this._usuarioService.login(this.loginForm.value)\n              .subscribe( resp=>{\n                // debugger\n                if(this.loginForm.get('remember')!.value){\n                  localStorage.setItem( 'correo',this.loginForm.get('correo')!.value );\n                }else{\n                  localStorage.removeItem('correo');\n                }\n              console.log('Dentro del login.... fui a la DB')  \n              // Navegar al dashboard\n              this._router.navigateByUrl('/');\n\n              }, (err)=>{\n                  // Si sucede un error\n              Swal.fire('Error Francis', err.error.msg, 'error' );\n              })\n\n  }\n\n  renderButton() {\n    gapi.signin2.render('my-signin2', {\n      'scope': 'profile email',\n      'width': 240,\n      'height': 50,\n      'longtitle': true,\n      'theme': 'dark',\n    });\n\n    this.startApp();\n  };\n \n  // Generando token de Google, para luego generar el token de la aplicacion.\n  async startApp () {\n    \n    await this._usuarioService.googleIni();\n    this.auth2 = this._usuarioService.auth2;\n    \n    this.attachSignin(document.getElementById('my-signin2'));\n  };\n\n  attachSignin(element:any) {\n    // console.log(element.id);\n    this.auth2.attachClickHandler(element, {},\n        (googleUser:any)=> {\n            const id_token = googleUser.getAuthResponse().id_token;\n            // console.log(id_token);\n            this._usuarioService.loginGoogle(id_token)\n            .subscribe( resp =>{\n\n              // Navegar al dashboard\n              this._ngZone.run( ()=>{\n                this._router.navigateByUrl('/');\n              })\n            });\n\n\n        }, (error:any) => {\n          alert(JSON.stringify(error, undefined, 2));\n        });\n  }\n\n}\n","<!-- ============================================================== -->\n<!-- Main wrapper - style you can find in pages.scss --> \n<!-- ============================================================== -->\n<section id=\"wrapper\" class=\"login-register login-sidebar\" style=\"background-image:url(../assets/images/background/login-register.jpg);\">\n    <div class=\"login-box card\">\n        <div class=\"card-body\">\n            <form class=\"form-horizontal form-material\" \n                  id=\"loginform\"\n                  autocomplete=\"off\" \n                  [formGroup]=\"loginForm\"\n                  (ngSubmit)=\"login()\">\n\n                <a href=\"javascript:void(0)\" class=\"text-center db\"><img src=\"../assets/images/logo-icon.png\" alt=\"Home\" /><br/><img src=\"../assets/images/logo-text.png\" alt=\"Home\" /></a>\n                <div class=\"form-group m-t-40\">\n                    <div class=\"col-xs-12\">\n                        <input class=\"form-control\" \n                               type=\"email\"\n                               formControlName=\"correo\"\n                               placeholder=\"email\">\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <div class=\"col-xs-12\">\n                        <input class=\"form-control\" \n                               type=\"password\"\n                               formControlName=\"password\"\n                               placeholder=\"Password\">\n                    </div>\n                </div>\n                <div class=\"form-group row\">\n                    <div class=\"col-md-12\">\n                        <div class=\"checkbox checkbox-primary pull-left p-t-0\">\n                            <input id=\"checkbox-signup\" \n                                   type=\"checkbox\"\n                                   class=\"filled-in chk-col-light-blue\"\n                                   formControlName=\"remember\">\n                            <label for=\"checkbox-signup\"> xxxxx Remember me  </label>\n                        </div>\n                        <a href=\"javascript:void(0)\" \n                            id=\"to-recover\" class=\"text-dark pull-right\">\n                            <i class=\"fa fa-lock m-r-5\"></i>\n                             Forgot pwd?\n                        </a> \n                    </div>\n                </div>\n                <div class=\"form-group text-center m-t-20\">\n                    <div class=\"col-xs-12\">\n                        <button class=\"btn btn-info btn-lg btn-block text-uppercase btn-rounded\" type=\"submit\">\n                            Log In\n                        </button>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-xs-12 col-sm-12 col-md-12 m-t-10 mb-4 text-center\" id=\"google-btn\">\n                        \n                        <div id=\"my-signin2\"></div>\n\n                        <!-- <div class=\"social\">\n                            <a href=\"javascript:void(0)\" class=\"btn  btn-facebook\" data-toggle=\"tooltip\" title=\"Login with Facebookxx\"> \n                                <i aria-hidden=\"true\" class=\"fa fa-facebook\"></i>\n                            </a> \n                            <a href=\"javascript:void(0)\" class=\"btn btn-googleplus\" data-toggle=\"tooltip\" title=\"Login with Googlexxx\">\n                                 <i aria-hidden=\"true\" class=\"fa fa-google-plus\"></i> \n                            </a>\n                        </div> -->\n                    </div>\n                </div>\n                <div class=\"form-group m-b-0\">\n                    <div class=\"col-sm-12 text-center\">\n                        Don't have an account? <a routerLink=\"/auth/registro\" class=\"text-primary m-l-5\"><b>Sign Up</b></a>\n                    </div>\n                </div>\n            </form>\n\n            <form class=\"form-horizontal\" id=\"recoverform\" action=\"index.html\">\n                <div class=\"form-group \">\n                    <div class=\"col-xs-12\">\n                        <h3>Recover Password</h3>\n                        <p class=\"text-muted\">Enter your Email and instructions will be sent to you! </p>\n                    </div>\n                </div>\n                <div class=\"form-group \">\n                    <div class=\"col-xs-12\">\n                        <input class=\"form-control\" type=\"text\" required=\"\" placeholder=\"Email\">\n                    </div>\n                </div>\n                <div class=\"form-group text-center m-t-20\">\n                    <div class=\"col-xs-12\">\n                        <button class=\"btn btn-primary btn-lg btn-block text-uppercase waves-effect waves-light\" type=\"submit\">Reset</button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</section>\n<!-- ============================================================== -->\n<!-- End Wrapper -->\n<!-- ============================================================== -->\n\n"]},"metadata":{},"sourceType":"module"}